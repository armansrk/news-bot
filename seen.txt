# اضافه کردن یک خبر جدید به مجموعه‌ی دیده شده
# بررسی اینکه آیا فایل موجود است یا خیر
# تابع برای بارگذاری مطالب دیده شده از فایل
# تابع برای ذخیره URLهای جدید به فایل
# تابع برای شبیه‌سازی ارسال اخبار به تلگرام (برای تست)
# تست بارگذاری مطالب دیده شده
# خواندن مطالب از فایل
# شبیه‌سازی اضافه کردن اخبار جدید
add_new_article_to_seen("https://arzdigital.com/blog/bitcoin-performance-trump-vs-biden-comparison/")
def add_new_article_to_seen(new_url: str):
def load_seen() -> set:
def save_seen(seen: set) -> None:
def send_to_telegram(message: str):
def test_load_seen():
else:
except Exception as e:
f.write(url + "\n")
for url in sorted(seen):
https://cointelegraph.com/news/bitcoin-bulls-charge-90k-traders-cme-gap-for-btc-price-dip?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cointelegraph.com/news/bitcoin-options-under-fire-as-covered-calls-take-center-stage?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cointelegraph.com/news/bitcoin-rsi-demands-breakout-exec-says-rip-4-year-btc-price-cycle?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cointelegraph.com/news/crypto-bear-market-began-november-cryptoquant?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cointelegraph.com/news/crypto-investment-themes-2026-bitcoin-stablecoins-tokenized-assets?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cointelegraph.com/news/krx-signals-readiness-crypto-etfs-regulatory-review?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cointelegraph.com/news/polymarket-traders-21-chance-bitcoin-hitting-150k-2026?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cointelegraph.com/news/solana-institutional-momentum-heading-2026?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cointelegraph.com/news/vitalik-buterin-ethereum-dapps-solution-cloudflare?utm_source=rss_feed&utm_medium=rss&utm_campaign=rss_partner_inbound
https://cryptoslate.com/bitcoin-died-four-times-in-2025-but-a-hidden-infrastructure-boom-proves-the-skeptics-completely-wrong/
https://cryptoslate.com/bitcoin-etf-fatigue-is-real-ignoring-noise-these-are-the-10-days-that-mattered-in-2025/
https://cryptoslate.com/bitcoin-etfs-failed-a-critical-holiday-stress-test-as-1-29-billion-vanished-in-just-12-days/
https://cryptoslate.com/the-fed-just-leaked-a-bullish-liquidity-signal-that-suggests-bitcoin-can-front-run-a-2026-recovery/
https://decrypt.co/350811/bitcoin-whales-woke-up-2025-moved-billions-why
https://decrypt.co/350999/year-dogecoin-2025-doge-goes-political-commercial-keeps-falling
https://decrypt.co/351201/year-bitcoin-crypto-atms-2025-power-tools-scams-calls-action
https://decrypt.co/351545/year-xrp-2025-new-highs-7-years-ripple-sec-case-ends
https://decrypt.co/352209/crypto-crystal-ball-2026-headed-bitcoin-winter
https://decrypt.co/352221/crypto-crystal-ball-2026-ethereum-finally-start-going-parabolic
https://decrypt.co/352908/the-year-crypto-etfs-2025-bitcoin-ethereum-thrive-xrp-solana
https://decrypt.co/videos/interviews/sewi5umu/cardanos-november-hack-explained-by-co-founder-charles-hoskinson
if new_url not in seen:
if not os.path.exists("seen.txt"):
import os
print("این خبر قبلاً دیده شده است.")
print("مطالب جدید ذخیره شدند.")
print(f"ارسال به تلگرام: {message}")
print(f"خطا در بارگذاری فایل: {e}")
print(f"خطا در ذخیره فایل: {e}")
print(f"مطالب دیده شده بارگذاری شده: {seen}")
print(f"مطالب دیده شده: {seen}")
return seen
return set()
save_seen(seen)  # ذخیره‌ی URLهای به روز شده
seen = load_seen()
seen = set(line.strip() for line in f if line.strip())  # حذف خطوط خالی
seen.add(new_url)  # افزودن URL جدید
send_to_telegram(f"خبر جدید اضافه شد: {new_url}")
test_load_seen()
try:
with open("seen.txt", "r", encoding="utf-8") as f:
with open("seen.txt", "w", encoding="utf-8") as f:
